{% load i18n %}
{% load static from staticfiles %}

<div class="control-group">
    <label for="add_photo" class="control-label">
        <strong>{% trans 'Photos' %}</strong><br />
        {% trans 'La photo doit permettre de replacer l’incident dans son contexte. Les visages et plaques d’immatriculation ne peuvent pas être identifiables.' %}
    </label>

    <div class="controls">
        {{ file_formset.management_form }}
        {% for dict in file_formset.errors %}
            {% for error in dict.values %}
                {{ error }}
            {% endfor %}
        {% endfor %}

        <div class="control-group">
            <div class="container-fluid">
                <div id="file-form-files"></div>
                <div id="file-form-btn-add-container">
                    <label class="input-file-button btn" for="file-form-input-add">{% trans 'Add file' %}</label>
                    <span class="input-file-button2">
                        <input id="file-form-input-add" class="input-file-button2" type="file" multiple />
                    </span>
                </div>

                <div id="file-form-row-tpl" class="hidden">
                    <div class="row">
                        <div>
                            <div class="row-fluid">
                                <div class="span4 thumb"></div>
                                <div class="span7">
                                    {{ file_formset.empty_form.title }}
                                </div>

                                <div class="span1">
                                    <img class="removeThumbnail pull-right" src="{% static 'images/delete_documentation.png' %}" title="Remove"/>
                                </div>
                                {{ file_formset.empty_form.reportattachment_ptr }}
                                {{ file_formset.empty_form.file_creation_date }}
                                {# { file_formset.empty_form.file } #}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="file-too-large-error" class="modal hide fade" role="dialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>{% trans "Validation error" %}</h3>
    </div>
    <div class="modal-body">
        <p class="lead">
            <strong>
                {% trans "File too large: 10 Mb per image maximum." %}
            </strong>
        </p>
    </div>
</div>

<div id="file-type-error" class="modal hide fade" role="dialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>{% trans "Validation error" %}</h3>
    </div>
    <div class="modal-body">
        <p class="lead">
            <strong>
                {% trans "The type of the file is not correct. You can only upload files of type: jpg, png, pdf, doc and xls." %}
            </strong>
        </p>
    </div>
</div>
