{% load i18n %}
<fieldset>
    <legend>{% trans 'Photos:' %}</legend>
    <div id="form-files">
        {# Good way to display error lists. Thibaut. #}
        {{ file_formset.management_form }}
        {% for dict in file_formset.errors %}
            {% for error in dict.values %}
                {{ error }}
            {% endfor %}
        {% endfor %}

        <div id="file-form-template" class="control-group">
            <img class="icon-remove removeThumbnail hidden" title="Remove"></img>
            <img class="thumbnail" />
            {{ file_formset.empty_form.reportattachment_ptr }}
            {{ file_formset.empty_form.title }}
            {{ file_formset.empty_form.file_creation_date }}

            {# { file_formset.empty_form.file } #}
            <div  class="file-upload-btn btn">
                <input type="file" id="id_files-__prefix__-file" name="files-__prefix__-file"/>
                {% trans 'Add file' %}
            </div>
            <a href="#" style="margin: 15px 0 20px; display: inline-block; vertical-align: top;"
                        data-toggle="popover"
                        data-trigger="hover"
                        title="{% trans 'Recommendations'%}">
                <img src="{{STATIC_URL}}images/info_icon.png" width="16px"/>
            </a>
            <div id="photo-recommendations" class="hide">
                <p>{% trans '1- Supported formats' %}: jpeg, png. </p>
                <p>{% trans '2- Optimal resolution: 1200 x 800.' %}</p>
                <p>{% trans '2- Maximum size : 10 Mb per image.' %}</p>
                <p>{% trans '3- The photo must contain the environment of the incident' %}</p>
                <p>{% trans "4- Please do not include people's faces and car registration plates." %}</p>
            </div>
        </div>
    </div>
</fieldset>
<fieldset>
    <legend>{% trans 'Comment:' %}</legend>
    {% include "_form_horizontal.html" with form=comment_form %}
</fieldset>
<div id="file-too-large-error" class="modal hide fade" role="dialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>{% trans "Validation error" %}</h3>
    </div>
    <div class="modal-body">
        <p class="lead">
            <strong>
                {% trans "File too large: 10 Mb per image maximum." %}
            </strong>
        </p>
    </div>
</div>
<div id="file-type-error" class="modal hide fade" role="dialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>{% trans "Validation error" %}</h3>
    </div>
    <div class="modal-body">
        <p class="lead">
            <strong>
                {% trans "The type of the file is not correct. You can only upload files of type: jpg, png, pdf, doc and xls." %}
            </strong>
        </p>
    </div>
</div>
